<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1034px" height="962px" viewBox="-0.5 -0.5 1034 962" content="&lt;mxfile scale=&quot;1.2&quot; border=&quot;0&quot; host=&quot;Electron&quot; modified=&quot;2024-04-25T16:38:57.184Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/23.1.5 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36&quot; version=&quot;23.1.5&quot; etag=&quot;rknwsiJAT-8VdEfj2keg&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;ahwWs56YI2XBYRBzwlqw&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1195&quot; dy=&quot;1103&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;0&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;85&quot; value=&quot;$STATEMACHINE : ButtonSm&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;360&quot; y=&quot;10&quot; width=&quot;440&quot; height=&quot;660&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;98&quot; value=&quot; &quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;&quot; parent=&quot;85&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;30&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;99&quot; style=&quot;edgeStyle=none;html=1;strokeColor=#F0F0F0;&quot; parent=&quot;85&quot; source=&quot;105&quot; target=&quot;100&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;100&quot; value=&quot;NOT_PRESSED&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#333333;fontColor=#FAFAFA;strokeColor=#F0F0F0;&quot; parent=&quot;85&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;160&quot; width=&quot;360&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;101&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter &amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt;&amp;amp;nbsp;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;reset_timer();&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;100&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;102&quot; value=&quot;&amp;lt;div style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;[ is_released &amp;amp;amp;&amp;amp;amp; is_debounced ]&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(255, 215, 0); font-family: &amp;amp;quot;Lucida Console&amp;amp;quot;;&amp;quot;&amp;gt;/&amp;lt;/span&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;amp;nbsp;{&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(220, 220, 170);&amp;quot;&amp;gt;&amp;amp;nbsp; &amp;amp;nbsp; output_event(release);&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;}&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;align=left;fontSize=12;&quot; parent=&quot;85&quot; source=&quot;86&quot; target=&quot;100&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;80&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;60&quot; y=&quot;150&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;104&quot; value=&quot;[ is_pressed &amp;lt;br&amp;gt;&amp;amp;nbsp; &amp;amp;amp;&amp;amp;amp; is_debounced ]&quot; style=&quot;edgeStyle=none;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;labelBackgroundColor=#18141D;strokeColor=#F0F0F0;fontSize=12;align=left;&quot; parent=&quot;85&quot; source=&quot;100&quot; target=&quot;86&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.2857&quot; y=&quot;-30&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;86&quot; value=&quot;PRESSED&quot; style=&quot;shape=swimlane;rotatable=0;align=left;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;fontColor=#ffffff;fillColor=#545454;swimlaneFillColor=#18141d;rounded=1;arcSize=15;absoluteArcSize=1;strokeColor=#F0F0F0;spacingLeft=16;&quot; parent=&quot;85&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;300&quot; width=&quot;360&quot; height=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;87&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter&amp;lt;/font&amp;gt;&amp;amp;nbsp;&amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt;&amp;amp;nbsp;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp; reset_timer();&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp; output_event(press);&amp;lt;/div&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;86&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;180&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;89&quot; value=&quot;&amp;lt;font style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;[ timer_ms &amp;amp;gt; 800 ]&amp;lt;/font&amp;gt;&quot; style=&quot;edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;&quot; parent=&quot;86&quot; source=&quot;96&quot; target=&quot;94&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;97.5&quot; y=&quot;161&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;94&quot; value=&quot;LONG_PRESS&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#545454;fontColor=#ffffff;strokeColor=#F0F0F0;&quot; parent=&quot;86&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;250&quot; width=&quot;220&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;95&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter&amp;amp;nbsp;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt;&amp;amp;nbsp;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;output_event(long);&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;94&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;220&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;96&quot; value=&quot;CONFIRMING_LONG&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#545454;fontColor=#ffffff;strokeColor=#F0F0F0;&quot; parent=&quot;86&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;71.25&quot; y=&quot;150&quot; width=&quot;217.5&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;97&quot; value=&quot;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;96&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;50&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;107&quot; style=&quot;edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=#18141D;strokeColor=#F0F0F0;fontColor=#00AAFF;&quot; parent=&quot;86&quot; source=&quot;106&quot; target=&quot;96&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;106&quot; value=&quot;$initial_state&quot; style=&quot;shape=ellipse;aspect=fixed;fillColor=#000000;resizable=0;rotatable=0;noLabel=1;html=1;strokeColor=#F7F7F7;&quot; parent=&quot;86&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;167.75&quot; y=&quot;100&quot; width=&quot;25&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;105&quot; value=&quot;$initial_state&quot; style=&quot;shape=ellipse;aspect=fixed;fillColor=#000000;resizable=1;rotatable=1;noLabel=1;editable=1;movable=1;deletable=1;connectable=1;strokeColor=#F7F7F7;&quot; parent=&quot;85&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;207.5&quot; y=&quot;110&quot; width=&quot;25&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;197&quot; value=&quot;Simple button debouncing state machine that also detects long presses.&quot; style=&quot;shape=note;strokeWidth=2;fontSize=14;size=20;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;verticalAlign=top;align=left;fontColor=#000000;&quot; vertex=&quot;1&quot; parent=&quot;85&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;50&quot; width=&quot;340&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;167&quot; value=&quot;$STATEMACHINE : LightSm&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;840&quot; y=&quot;10&quot; width=&quot;380&quot; height=&quot;660&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;180&quot; value=&quot; &quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;&quot; parent=&quot;167&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;30&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;181&quot; style=&quot;edgeStyle=none;html=1;strokeColor=#F0F0F0;&quot; parent=&quot;167&quot; source=&quot;182&quot; target=&quot;183&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;183&quot; value=&quot;OFF&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#333333;fontColor=#FAFAFA;strokeColor=#F0F0F0;&quot; parent=&quot;167&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;100&quot; width=&quot;320&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;184&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter &amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt; &amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;light_off();&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;183&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;170&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;185&quot; value=&quot;DIM_LONG_PRESS&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;&quot; parent=&quot;167&quot; source=&quot;168&quot; target=&quot;183&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;60&quot; y=&quot;150&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;186&quot; value=&quot;DIM&quot; style=&quot;edgeStyle=none;html=1;exitX=0.806;exitY=0.007;exitDx=0;exitDy=0;exitPerimeter=0;fontColor=#00AAFF;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;&quot; parent=&quot;167&quot; source=&quot;170&quot; target=&quot;183&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.7846&quot; y=&quot;-13&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;            &lt;mxPoint x=&quot;195&quot; y=&quot;250&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;213&quot; y=&quot;174&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;187&quot; value=&quot;INC&quot; style=&quot;edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;labelBackgroundColor=#18141D;strokeColor=#F0F0F0;&quot; parent=&quot;167&quot; source=&quot;183&quot; target=&quot;168&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;168&quot; value=&quot;ON_GROUP &quot; style=&quot;shape=swimlane;rotatable=0;align=left;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;fontColor=#ffffff;fillColor=#545454;swimlaneFillColor=none;rounded=1;arcSize=15;absoluteArcSize=1;strokeColor=#F0F0F0;spacingLeft=16;&quot; parent=&quot;167&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;220&quot; width=&quot;320&quot; height=&quot;420&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;169&quot; value=&quot; &quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;&quot; parent=&quot;168&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;30&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;190&quot; value=&quot;INC_LONG_PRESS&quot; style=&quot;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#00AAFF;edgeStyle=orthogonalEdgeStyle;exitX=0.87;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=#18141D;strokeColor=#F0F0F0;&quot; parent=&quot;168&quot; source=&quot;170&quot; target=&quot;175&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.8171&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;260&quot; y=&quot;170&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;170&quot; value=&quot;ON1&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#545454;fontColor=#ffffff;strokeColor=#F0F0F0;points=[[0,0,0,0,0],[0,0.23,0,0,0],[0,0.49,0,0,0],[0,0.71,0,0,0],[0,0.96,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.5,0,0,0,0],[0.62,1,0,0,0],[0.75,0,0,0,0],[0.87,1,0,0,0],[1,0,0,0,0],[1,0.23,0,0,0],[1,0.49,0,0,0],[1,0.71,0,0,0],[1,0.96,0,0,0]];&quot; parent=&quot;168&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;29&quot; y=&quot;90&quot; width=&quot;260&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;171&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter&amp;lt;/font&amp;gt; &amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt; &amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;light_1();&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;170&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;160&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;172&quot; value=&quot;DIM&quot; style=&quot;edgeStyle=none;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.62;entryY=1;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;entryPerimeter=0;&quot; parent=&quot;168&quot; source=&quot;178&quot; target=&quot;170&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;164&quot; y=&quot;202&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;173&quot; value=&quot;&amp;lt;font&amp;gt;INC&amp;lt;/font&amp;gt;&quot; style=&quot;edgeStyle=none;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;exitX=0.25;exitY=1;exitDx=0;exitDy=0;&quot; parent=&quot;168&quot; source=&quot;170&quot; target=&quot;178&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;119&quot; y=&quot;202&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;175&quot; value=&quot;ON3&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#545454;fontColor=#ffffff;strokeColor=#F0F0F0;&quot; parent=&quot;168&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;31&quot; y=&quot;329&quot; width=&quot;209&quot; height=&quot;69&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;176&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter&amp;lt;/font&amp;gt; &amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;amp;nbsp;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;light_3();&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;175&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;160&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;178&quot; value=&quot;ON2&quot; style=&quot;shape=swimlane;rotatable=0;align=center;verticalAlign=top;fontFamily=Lucida Console;startSize=30;fontSize=14;fontStyle=1;swimlaneFillColor=#18141d;html=1;rounded=1;arcSize=15;absoluteArcSize=1;fillColor=#545454;fontColor=#ffffff;strokeColor=#F0F0F0;&quot; parent=&quot;168&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; y=&quot;210&quot; width=&quot;210&quot; height=&quot;69&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;179&quot; value=&quot;&amp;lt;font color=&amp;quot;#00aaff&amp;quot;&amp;gt;enter&amp;amp;nbsp;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#ffd700&amp;quot;&amp;gt;/&amp;lt;/font&amp;gt;&amp;amp;nbsp;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;light_2();&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#dcdcaa&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&quot; style=&quot;fontFamily=Lucida Console;align=left;verticalAlign=top;fillColor=none;gradientColor=none;strokeColor=none;rounded=0;spacingLeft=4;resizable=0;movable=0;deletable=0;rotatable=0;autosize=1;html=1;&quot; parent=&quot;178&quot; connectable=&quot;0&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;160&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;188&quot; value=&quot;&amp;lt;font&amp;gt;(INC,&amp;amp;nbsp;&amp;lt;/font&amp;gt;INC_LONG_PRESS)&quot; style=&quot;edgeStyle=none;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;exitX=0.25;exitY=1;exitDx=0;exitDy=0;&quot; parent=&quot;168&quot; source=&quot;178&quot; target=&quot;175&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;129&quot; y=&quot;211&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;            &lt;mxPoint x=&quot;129&quot; y=&quot;160&quot; as=&quot;sourcePoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;189&quot; value=&quot;DIM&quot; style=&quot;edgeStyle=none;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fontColor=#00AAFF;strokeColor=#F0F0F0;labelBackgroundColor=#18141D;&quot; parent=&quot;168&quot; source=&quot;175&quot; target=&quot;178&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;174&quot; y=&quot;211&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;            &lt;mxPoint x=&quot;174&quot; y=&quot;160&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;191&quot; value=&quot;$initial_state&quot; style=&quot;shape=ellipse;aspect=fixed;fillColor=#000000;resizable=1;rotatable=1;noLabel=1;editable=1;movable=1;deletable=1;connectable=1;strokeColor=#F0F0F0;&quot; parent=&quot;168&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;81&quot; y=&quot;42&quot; width=&quot;25&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;192&quot; style=&quot;edgeStyle=none;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fontColor=#00AAFF;labelBackgroundColor=#18141D;strokeColor=#F0F0F0;entryPerimeter=0;&quot; parent=&quot;168&quot; source=&quot;191&quot; target=&quot;170&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;182&quot; value=&quot;$initial_state&quot; style=&quot;shape=ellipse;aspect=fixed;fillColor=#000000;resizable=1;rotatable=1;noLabel=1;editable=1;movable=1;deletable=1;connectable=1;strokeColor=#F0F0F0;&quot; parent=&quot;167&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;187.5&quot; y=&quot;50&quot; width=&quot;25&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;194&quot; value=&quot;This single diagram has two state machines in it. The button statemachine sends events (outside the diagram) to the LightSm.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;When you have more than 1 state machine in a diagram, you need to tell StateSmith which version to generate code for.&amp;lt;br&amp;gt;See the .csx file.&quot; style=&quot;shape=note;strokeWidth=2;fontSize=14;size=20;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;verticalAlign=top;align=left;fontColor=#000000;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;370&quot; y=&quot;-130&quot; width=&quot;420&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;195&quot; value=&quot;Press and hold DIM button to transition all the way to OFF state from any other.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Press and hold INCREASE button to transition all the way to ON3 from any other.&quot; style=&quot;shape=note;strokeWidth=2;fontSize=14;size=14;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;verticalAlign=top;align=left;fontColor=#000000;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;850&quot; y=&quot;-130&quot; width=&quot;360&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><path d="M 528 205.2 L 528 178.2 Q 528 169.2 519 169.2 L 9 169.2 Q 0 169.2 0 178.2 L 0 205.2" fill="#1ba1e2" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 205.2 L 0 952.2 Q 0 961.2 9 961.2 L 519 961.2 Q 528 961.2 528 952.2 L 528 205.2" fill="#18141d" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 205.2 L 528 205.2" fill="none" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g fill="#ffffff" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="16.8px"><text x="263.5" y="192.7">$STATEMACHINE : ButtonSm</text></g><rect x="0" y="205.2" width="36" height="24" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="14.399999999999999px"/><path d="M 264 331.2 L 264 353.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264 359.86 L 259.8 351.46 L 264 353.56 L 268.2 351.46 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 480 397.2 L 480 370.2 Q 480 361.2 471 361.2 L 57 361.2 Q 48 361.2 48 370.2 L 48 397.2" fill="#333333" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 48 397.2 L 48 424.2 Q 48 433.2 57 433.2 L 471 433.2 Q 480 433.2 480 424.2 L 480 397.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 48 397.2 L 480 397.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 308px; margin-left: 220px;"><div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">NOT_PRESSED</div></div></div></foreignObject><text x="220" y="322" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">NOT_PRESSED</text></switch></g><rect x="48" y="397.2" width="216" height="36" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 338px; margin-left: 46px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter </font><font color="#ffd700">/</font> <font color="#dcdcaa">reset_timer();</font></div></div></div></foreignObject><text x="46" y="350" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / reset_timer();</text></switch></g><path d="M 156 529.2 L 156 440.84" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 156 434.54 L 160.2 442.94 L 156 440.84 L 151.8 442.94 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 401px; margin-left: 52px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;"><div style="font-size: 12px;">[ is_released &amp;&amp; is_debounced ]<font color="#dcdcaa"> </font><span style="color: rgb(255, 215, 0); font-family: &quot;Lucida Console&quot;;">/</span><font color="#dcdcaa"> {</font></div><div style="font-size: 12px;"><span style="color: rgb(220, 220, 170);">    output_event(release);</span><br /></div><div style="font-size: 12px;"><font color="#dcdcaa">}</font></div></div></div></div></foreignObject><text x="52" y="405" fill="#00AAFF" font-family="Helvetica" font-size="12px">[ is_released &amp;&amp; is_debounced ] / {...</text></switch></g><path d="M 372 433.2 L 372 521.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 372 527.86 L 367.8 519.46 L 372 521.56 L 376.2 519.46 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 390px; margin-left: 282px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">[ is_pressed <br />  &amp;&amp; is_debounced ]</div></div></div></foreignObject><text x="282" y="394" fill="#00AAFF" font-family="Helvetica" font-size="12px">[ is_pressed...</text></switch></g><path d="M 480 565.2 L 480 538.2 Q 480 529.2 471 529.2 L 57 529.2 Q 48 529.2 48 538.2 L 48 565.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 48 565.2 L 48 928.2 Q 48 937.2 57 937.2 L 471 937.2 Q 480 937.2 480 928.2 L 480 565.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 48 565.2 L 480 565.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g fill="#ffffff" font-family="Lucida Console" font-weight="bold" font-size="16.8px"><text x="69.1" y="552.7">PRESSED</text></g><rect x="48" y="565.2" width="216" height="84" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 478px; margin-left: 46px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter</font> <font color="#ffd700">/</font> <font color="#dcdcaa"><span style="background-color: initial;">{</span><div>  reset_timer();</div><div>  output_event(press);</div><span style="background-color: initial;">}</span></font></div></div></div></foreignObject><text x="46" y="490" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / {...</text></switch></g><path d="M 264 781.2 L 264 821.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264 827.86 L 259.8 819.46 L 264 821.56 L 268.2 819.46 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 667px; margin-left: 220px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;"><font style="font-size: 12px;">[ timer_ms &gt; 800 ]</font></div></div></div></foreignObject><text x="220" y="671" fill="#00AAFF" font-family="Helvetica" font-size="12px" text-anchor="middle">[ timer_ms &gt; 800 ]</text></switch></g><path d="M 396 865.2 L 396 838.2 Q 396 829.2 387 829.2 L 141 829.2 Q 132 829.2 132 838.2 L 132 865.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 132 865.2 L 132 904.2 Q 132 913.2 141 913.2 L 387 913.2 Q 396 913.2 396 904.2 L 396 865.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 132 865.2 L 396 865.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 698px; margin-left: 220px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">LONG_PRESS</div></div></div></foreignObject><text x="220" y="712" fill="#ffffff" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">LONG_PRESS</text></switch></g><rect x="132" y="865.2" width="264" height="48" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 728px; margin-left: 116px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter </font><font color="#ffd700">/</font> <font color="#dcdcaa">output_event(long);<br /></font><font color="#dcdcaa"><br /></font></div></div></div></foreignObject><text x="116" y="740" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / output_event(long);&#xa;</text></switch></g><path d="M 394.5 745.2 L 394.5 718.2 Q 394.5 709.2 385.5 709.2 L 142.5 709.2 Q 133.5 709.2 133.5 718.2 L 133.5 745.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 133.5 745.2 L 133.5 772.2 Q 133.5 781.2 142.5 781.2 L 385.5 781.2 Q 394.5 781.2 394.5 772.2 L 394.5 745.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 133.5 745.2 L 394.5 745.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 598px; margin-left: 220px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">CONFIRMING_LONG</div></div></div></foreignObject><text x="220" y="612" fill="#ffffff" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">CONFIRMING_LONG</text></switch></g><rect x="133.5" y="745.2" width="60" height="48" fill="none" stroke="none" pointer-events="all"/><path d="M 264.3 679.2 L 264.08 701.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264.01 707.86 L 259.9 699.42 L 264.08 701.56 L 268.3 699.5 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="264.3" cy="664.2" rx="15" ry="15" fill="#000000" stroke="#f7f7f7" stroke-width="1.2" pointer-events="all"/><ellipse cx="264" cy="316.2" rx="15" ry="15" fill="#000000" stroke="#f7f7f7" stroke-width="1.2" pointer-events="all"/><path d="M 48 229.2 L 432 229.2 L 456 253.2 L 456 289.2 L 48 289.2 L 48 229.2 Z" fill="#fad7ac" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><path d="M 432 229.2 L 432 253.2 L 456 253.2" fill="none" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 198px; margin-left: 42px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Simple button debouncing state machine that also detects long presses.</div></div></div></foreignObject><text x="42" y="212" fill="#000000" font-family="Helvetica" font-size="14px">Simple button debouncing state machine that also...</text></switch></g><path d="M 1032 205.2 L 1032 178.2 Q 1032 169.2 1023 169.2 L 585 169.2 Q 576 169.2 576 178.2 L 576 205.2" fill="#1ba1e2" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 576 205.2 L 576 952.2 Q 576 961.2 585 961.2 L 1023 961.2 Q 1032 961.2 1032 952.2 L 1032 205.2" fill="#18141d" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 576 205.2 L 1032 205.2" fill="none" stroke="#006eaf" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g fill="#ffffff" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="16.8px"><text x="803.5" y="192.7">$STATEMACHINE : LightSm</text></g><rect x="576" y="205.2" width="36" height="24" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="14.399999999999999px"/><path d="M 816 259.2 L 816 281.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 816 287.86 L 811.8 279.46 L 816 281.56 L 820.2 279.46 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 1008 325.2 L 1008 298.2 Q 1008 289.2 999 289.2 L 633 289.2 Q 624 289.2 624 298.2 L 624 325.2" fill="#333333" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 624 325.2 L 624 352.2 Q 624 361.2 633 361.2 L 999 361.2 Q 1008 361.2 1008 352.2 L 1008 325.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 624 325.2 L 1008 325.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 248px; margin-left: 680px;"><div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">OFF</div></div></div></foreignObject><text x="680" y="262" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">OFF</text></switch></g><rect x="624" y="325.2" width="204" height="36" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 278px; margin-left: 526px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter </font><font color="#ffd700">/</font> <font color="#dcdcaa">light_off();</font></div></div></div></foreignObject><text x="526" y="290" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / light_off();</text></switch></g><path d="M 720 433.2 L 720 368.84" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 720 362.54 L 724.2 370.94 L 720 368.84 L 715.8 370.94 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 341px; margin-left: 600px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">DIM_LONG_PRESS</div></div></div></foreignObject><text x="600" y="344" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">DIM_LONG_PRESS</text></switch></g><path d="M 910.27 541.79 L 911.93 368.84" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 911.99 362.54 L 916.11 370.98 L 911.93 368.84 L 907.71 370.9 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 436px; margin-left: 772px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">DIM</div></div></div></foreignObject><text x="772" y="439" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">DIM</text></switch></g><path d="M 816 361.2 L 816 425.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 816 431.86 L 811.8 423.46 L 816 425.56 L 820.2 423.46 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 321px; margin-left: 680px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">INC</div></div></div></foreignObject><text x="680" y="324" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">INC</text></switch></g><path d="M 1008 469.2 L 1008 442.2 Q 1008 433.2 999 433.2 L 633 433.2 Q 624 433.2 624 442.2 L 624 469.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 624 469.2 L 624 928.2 Q 624 937.2 633 937.2 L 999 937.2 Q 1008 937.2 1008 928.2 L 1008 469.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="none"/><path d="M 624 469.2 L 1008 469.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Lucida Console" font-weight="bold" font-size="16.8px"><text x="645.1" y="456.7">ON_GROUP </text></g><rect x="624" y="469.2" width="36" height="24" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="14.399999999999999px"/><path d="M 930.24 625.2 L 930.24 857.4 Q 930.24 869.4 924.94 869.4 L 919.64 869.4" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 913.34 869.4 L 921.74 865.2 L 919.64 869.4 L 921.74 873.6 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 541px; margin-left: 775px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">INC_LONG_PRESS</div></div></div></foreignObject><text x="775" y="544" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">INC_LONG_PRESS</text></switch></g><path d="M 970.8 577.2 L 970.8 550.2 Q 970.8 541.2 961.8 541.2 L 667.8 541.2 Q 658.8 541.2 658.8 550.2 L 658.8 577.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 658.8 577.2 L 658.8 616.2 Q 658.8 625.2 667.8 625.2 L 961.8 625.2 Q 970.8 625.2 970.8 616.2 L 970.8 577.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 658.8 577.2 L 970.8 577.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 458px; margin-left: 679px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">ON1</div></div></div></foreignObject><text x="679" y="472" fill="#ffffff" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">ON1</text></switch></g><rect x="658.8" y="577.2" width="192" height="36" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 488px; margin-left: 555px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter</font> <font color="#ffd700">/</font> <font color="#dcdcaa">light_1();</font></div></div></div></foreignObject><text x="555" y="500" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / light_1();</text></switch></g><path d="M 849 685.2 L 851.83 632.83" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 852.17 626.54 L 855.91 635.15 L 851.83 632.83 L 847.52 634.7 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 554px; margin-left: 708px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">DIM</div></div></div></foreignObject><text x="708" y="557" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">DIM</text></switch></g><path d="M 736.8 625.2 L 724.71 677.75" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 723.3 683.89 L 721.09 674.76 L 724.71 677.75 L 729.28 676.65 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 538px; margin-left: 610px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;"><font>INC</font></div></div></div></foreignObject><text x="610" y="541" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">INC</text></switch></g><path d="M 912 864 L 912 837 Q 912 828 903 828 L 670.2 828 Q 661.2 828 661.2 837 L 661.2 864" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 661.2 864 L 661.2 901.8 Q 661.2 910.8 670.2 910.8 L 903 910.8 Q 912 910.8 912 901.8 L 912 864" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 661.2 864 L 912 864" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 697px; margin-left: 656px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">ON3</div></div></div></foreignObject><text x="656" y="711" fill="#ffffff" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">ON3</text></switch></g><rect x="661.2" y="864" width="192" height="36" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 727px; margin-left: 557px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter</font> <font color="#ffd700">/ </font><font color="#dcdcaa">light_3();</font><font color="#dcdcaa"><br /></font></div></div></div></foreignObject><text x="557" y="739" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / light_3();</text></switch></g><path d="M 912 721.2 L 912 694.2 Q 912 685.2 903 685.2 L 669 685.2 Q 660 685.2 660 694.2 L 660 721.2" fill="#545454" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 660 721.2 L 660 759 Q 660 768 669 768 L 903 768 Q 912 768 912 759 L 912 721.2" fill="#18141d" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><path d="M 660 721.2 L 912 721.2" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 578px; margin-left: 655px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">ON2</div></div></div></foreignObject><text x="655" y="592" fill="#ffffff" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">ON2</text></switch></g><rect x="660" y="721.2" width="192" height="36" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 608px; margin-left: 556px;"><div data-drawio-colors="color: rgb(240, 240, 240); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(240, 240, 240); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font color="#00aaff">enter </font><font color="#ffd700">/</font> <font color="#dcdcaa">light_2();</font><font color="#dcdcaa"><br /></font></div></div></div></foreignObject><text x="556" y="620" fill="rgb(240, 240, 240)" font-family="Lucida Console" font-size="12px">enter / light_2();</text></switch></g><path d="M 723 768 L 723.79 820.36" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 723.88 826.66 L 719.55 818.32 L 723.79 820.36 L 727.95 818.2 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 657px; margin-left: 603px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;"><font>(INC, </font>INC_LONG_PRESS)</div></div></div></foreignObject><text x="603" y="660" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">(INC, INC_LONG_PRESS)</text></switch></g><path d="M 849.3 828 L 849.04 775.64" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 849.01 769.34 L 853.25 777.72 L 849.04 775.64 L 844.85 777.76 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 673px; margin-left: 708px;"><div data-drawio-colors="color: #00AAFF; background-color: #18141D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 170, 255); line-height: 1.2; pointer-events: all; background-color: rgb(24, 20, 29); white-space: nowrap;">DIM</div></div></div></foreignObject><text x="708" y="676" fill="#00AAFF" font-family="Helvetica" font-size="11px" text-anchor="middle">DIM</text></switch></g><ellipse cx="736.2" cy="498.6" rx="15" ry="15" fill="#000000" stroke="#f0f0f0" stroke-width="1.2" pointer-events="all"/><path d="M 736.41 513.6 L 736.69 533.56" fill="none" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 736.78 539.86 L 732.46 531.52 L 736.69 533.56 L 740.86 531.4 Z" fill="#f0f0f0" stroke="#f0f0f0" stroke-width="1.2" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="816" cy="244.2" rx="15" ry="15" fill="#000000" stroke="#f0f0f0" stroke-width="1.2" pointer-events="all"/><path d="M 12 1.2 L 492 1.2 L 516 25.2 L 516 145.2 L 12 145.2 L 12 1.2 Z" fill="#fad7ac" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><path d="M 492 1.2 L 492 25.2 L 516 25.2" fill="none" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 8px; margin-left: 12px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">This single diagram has two state machines in it. The button statemachine sends events (outside the diagram) to the LightSm.<br /><br />When you have more than 1 state machine in a diagram, you need to tell StateSmith which version to generate code for.<br />See the .csx file.</div></div></div></foreignObject><text x="12" y="22" fill="#000000" font-family="Helvetica" font-size="14px">This single diagram has two state machines in it. The button...</text></switch></g><path d="M 588 1.2 L 1003.2 1.2 L 1020 18 L 1020 145.2 L 588 145.2 L 588 1.2 Z" fill="#fad7ac" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><path d="M 1003.2 1.2 L 1003.2 18 L 1020 18" fill="none" stroke="#b46504" stroke-width="2.4" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(1.2)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 8px; margin-left: 492px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Press and hold DIM button to transition all the way to OFF state from any other.<br /><br />Press and hold INCREASE button to transition all the way to ON3 from any other.</div></div></div></foreignObject><text x="492" y="22" fill="#000000" font-family="Helvetica" font-size="14px">Press and hold DIM button to transition all the way...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>