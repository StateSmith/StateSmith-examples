<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1891px" height="4111px" viewBox="-0.5 -0.5 1891 4111" content="&lt;mxfile&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;ahwWs56YI2XBYRBzwlqw&quot;&gt;7V3pk6M2Fv9rXDWdqunisLH9cY50NlWTo7az2eRTFwa5TQ02DuA+9q9fSSCMQdgIJA77ZarSNgYd74l36b2fJuaX7dtPob3f/BK4yJ8Ymvs2Mb9ODEPXZzr+Q668p1dmxjS58hx6bnrteOHR+x9KL2rp1YPnoujkxjgI/Njbn150gt0OOfHJNTsMg9fT29aBf9rr3n5Oe9SOFx4d20el2/7rufEmubqY5e7+F/KeN6xnXUt/2drs5vRCtLHd4DV3yfxxYn4JgyBOPm3fviCfUI/RJXnuoeLXbGAh2sW1HpjO0oHE72x2yMWTTb/ugh3+83kTb338Tccf0ZsX/5X7/Df+rN3P0m9fCZM19uWdfdnF4ftf+S+5p8jX42P0G3suGRoZT+X00ktRcAgddpeZEje2w2fE7jONjLx4YaJgi3BP+KYQ+XbsvZz2YKcL5Dm770hD/CElYwVJWfcvtn9Im93a3u7eKVEac39PPkav3ta3KaXDILZje0XvICSwfe95hz87eMYoxBdeUBh7eCl+Sn+Igz2+ug528YO99XxCum8Hx3Nt3NWXYBcFpKnPEaZFnL5IppY+kH7Xp+x7OjLCWjakB8/3vwR+gLv+6qK1ffBjOsrDzkVueq8dOqwpwlF7hTs9xOjT8XLGSzJ69Haem2UesQcM9h6lguOjziTC6/E11JfptU3+FWRPtuOsXuLsxLAoRVzv5YS31j8H8g5/dhLafSIr7Xn1wdCwpMMdafkPd5Q8GmHBx3XKxE8Z+/CI6Y24TXtLeJ22/AUveQ8vCUP7Fb0Wf0we2Qa7INrb5MXIOogoS0jz+nT/Rn+wsoes5/QvnRN+dFdnUgsr6U6fpR+wWLnjtuxhRqeNY2In7Wd9JhPYraJ9gzFQQUf7Zh/0ucYfBHkZK0bxQd3UXwK8jPi93uXmi3+iS+mUE5xLq7B4pfhoQdhcEhFM0vhoHVfLmZw4SHXDc2i7Hn6DC5ejOAy+o8LFo9zQEiI73u75G+3wK5FCIcLLMyf9tsFL7hu2I1BeNpZk5SEOoqPEySmtSuGTWghpI3mFnxNKpsYXS6kUMjkyaMqRQVMpIsgoiaBvpAvMR0xw30fh/Qb0TEs9M53W0DOmoU7PmFepZzTf26GPjFz0p+UFFVQ13S6V1hnJnZBLlaLydl6Vuhy0opLOr4lhzqyl41qK+YP7cR3XsW1uP1GM9jLYcX42B2wjmcZTtZ0kOiPck7NG3L5ib4uettHAuD2St/M7en/aY4OlinxDfUXBTFRlJlZEGKrNRINnJs5lWBCsYeGwzjGU83c+knMhrHOM5PzN2lMQ1pn2GtaZ6o1JOm9C094oanVGUUNK7NFoFnw0VEUfuURddBZ9nF50ECEQKdtBXNR0D01dins4A/ewqQFa9URnffdqD3cWYx2r63ob3JHlyYrN/aJn227+xwFkhJhVjESK33sbS2WsXm6jHZOhxzqw8YRNLnnRDjkbd8LdCrypDrbvJPZs6Aab6PEDv+ekGVkzXujMzGIktxb8frWqXvtZoOeDlTIXJO5pipzlSmumPCSHRcMn6qkg98mOq1WFAqa0k1Igu1QvHUH9SdfSGHXnuCXJALaLsNGE4idp/G88KeB3N/z2SezgyVPPayLPFt1owqrZwJrqck0F6zVIkJvhtg68vh1eGzfJ7LF4Dr3llrDVYcpYHpBbcgW5JVPR3BKTZaLm9x+zjcp2+48Wf4v5cQu5x3weC2wtL2rlHusc5krKPZ4Lby7f5o6xwJa6+DCvSJe5Hm40djZP6AVVxvI/3N/fi6sXUDpqlU5FJtiZhEZu0ouUhEazafbdpEGdapZvp7ZOdcHLFKvQ9ArS76aNExqHmyPKJWlnGY2se45lxKQVEUf0BUwERF5emuu1aS6XZRHq7fLuT9JChbS7JXOrjqBrYXnxkvp4dpekpL4l2F1DS7IRM4mqDUDOFLn5O21HINkoU0gBjr3H67nuZniLtSLGtupR8YZ/nYNtwZRefCnJKb89hzvbZf6NLf3wt1/1p8RMkRQInS/YgtJZ1xa/69RwkyUb62ee/aCI7AJpd1HVtO/qv/JzIfFQmJnGmWxXa65G4oZY/un86/l7VV0dSayrqtOV7Xx/pm7Bx0L/ZvruHv+e14HyCQwxJlkxporCuDMxJi6+k5yqWathRKRHMLST8Md0zgl/TJe1XWEFQabydgKAoVW/MyJgaOZpuGLJoPy6wUKblkNdErUIYKEBFppMjxT0tSR9ncjzYWChTcshU8BCk17qPi9ExaecsLi6WneGqXtlaqavCLrSWNgAIvZQ3y6iN6+VO1DfDvXtUN/eIFiomufoDRtUVQ5HW64PwfWSVtre8gWQU+fekhZdFb3LXrUaP/JMdL5n+90v7Pp7VsNSQTJr6GWKuh4FoGIG3UJh+m3YJZKrx4FJ6sq0pJR8i4uRcyXgnYn5lgXit7RMJFVxw5ussOASGDRwBkmplwYOQc2y6FXYQJS1gbgU3UBUWMnMTqIcUwnUScLPjAc23mvCz8xoTNK+YPIvU3Rm9UlRQHTvfptbz9IMO9rnBkz3dvvc8ja1x1alBnvelVbcDXEH9rxhzxv2vMWcvCGgmwGyersZjxlZHfDOrxfvHFDHBwE1OQy0T8ACHwIXAKH7tjgNuNn98wDQrHvngJQ909GxYCTomNeyawr7o5L2R2fCSM8Gq5FTsD9q8beeAOlZBt5gncpKdYCDMwB6rvcEAD3XU2UA9DxanWMJ6xxlQM+z5chTcixtaAkkVvOUHKMBTXUJFL2E88wlclVqmQKKllEJmF1EsZrBMpJqGfGTcdSZRpYOptHQNsfFrBbAYgYs5lsYLGAxKxVJgMWcGwVgMfeS2AZYzIDF3Lt8BizmGwgDJV7tQLCYLbPkg/0eei92jGh3tovC+7IVRNhM12bxh49kPLsg3lCna19oiXSMPTVthxBmG6dd8viaSGJ6C7k1DvD/Voh+8l12AXv//sE9afgDsiNCxdUhPhkDSdi+q+gqet+uAp90g/lDOg2wk6g9+8HK9mkjpMNoExxoz3QU+xCtvTfkUgZh/hAH0j349Gl7i9gA7cSWIOdP+V7kBTvOCGqpAI2Mc2JpVDZjIUwWDx6Jg1kdJb8UipSe8nc27rJ07Y8NmZvr2fj93J4MAb8DccKIl/c2k3zEbx963CZERW9Y9xC6HZlziFDG/wC/e6T/RBYmLI83dG3ZLl03Ef1V85Ed7rBQwO8Bvn/vk1Dae9Vq8MgNlGnbvYdJSdrZ2u90YcR01RFJT+7c2uQtesieWB92TpyO1ve+ozLPeB1ukL+na/Ty41qI/jl4YbICgziI3/eU+ARW+PiaFkQ05cyJ4LoglLee61LhXRSc+8DbxVTMzD5PZl/LwpErnjnSPR8ns85JUhGEbqMQxppzRKhlcUSoISeM1fSAv6HA2VszTpTXmvcZSi+X6QGcvZyXpQBnb2iz8suiEM/eKqc6SLTEAc++G38R8OzB5xHzeWaiPo86PHurnJEDePbKC/2XvHNeeekNkph8neemjLHQf3B7nFDJL6Ilr5U7UMkPlfxXXskPmwCTwRrEwgc8GTyDWM4ewNhzQef60AJYjC9jhWfjUnRu9kjRRbcYgiIE5Qe1hZNt+TTvLNl2Xs7GBPw71W6xYdZ1i+Wk3M4NcIsH4haPLTMYvOZKK/mGuANeM3jNV+41A/4d4N8B/l0TSgH+XefvNeDfDQIGZxhIRIB/NwQuAP7dbXEa8O/65wHg3/XOAeMmWTAS0CDAv6NDgf3n+GS3ZyD4d/NyERrg30nacsLsr5OJyUN5kZOJOS+fq3VJJN/mPhIA4NXTZQCAN1qlYworHWUAePPZ2JOe5kNL0ZlbjUnaFwBeDYr2ecrnvKJUBRtGkIsj2zDi5+Kog7+bi5eoXLdh1PVGuJiBAlh3/WLdKVlKPaHL3exc1HF8UDhO4k8MRb6eD8BeAOoTDSoPIHgtFW3vfK6FPHQ9MqUp+cftpxpMT+KGYCu4vHqrthaaXt0XoAYIkbxFJQ9Oryalvp5vSkZSC0DT3UKARrwqTR00HfO8qwtSnn7/989/fvrjR9glaOsM64sCLlDXeA2sNyhM6d2m7LBx+R4/esPv8q7axuoISlodSpO03OuWdQByErFb0qKrrGzZq1bjW1Ok9Mmz/e4Xdn2I8GFV4shMJ28WqBA2rVULQMUMuoXs8H6j0gPCfAcm9c0kibnk4mLkXG55Z2K+Zeb5LS0TSYno8CYrzMAFBg2cQVLS2IFDkMQu5yqEtmWFtiuAlKpD26bGi3ZKQUFfllN/fnt4GHsQe2KY+kKf6u4p3xpEtNenrSb/paPIXX/4RP6V1in5RSP/zi0agUSxmXUaGzd0veZqkbIPsizvgzBpQehBXwA28aPcwuOxbWoQFgNJhd3upI3zwvxcP+u1OydzL4d9HyT2ku628jfVcztCOa/2ZI+VG88pDKotSbUWTZ+nYlU6Ga8XBYq3SORqU6AxHzMPprgzfjpFUIcFdVil+y5JvEQDtVaHMvb+MpUK2nCM2pC7U2yo0oZ0hwK0YYUUvU7tx29Va0MoUDedqptUHAid/7JQpm6MkgR5iUq8rj48r1K5dH98nm+vkP8520su3C1D2luzgu+jzcu84iGTyyjSo5k8BVb9iOfzHm/omY7a/rDyPee+LObOHlB6FAfZAaVH+XByGOM6IILt4fGXCTuF0kf2d3oOJeZokI1gkjuI9HWDiP3NzqvTnMQcR/Rs0A3ackYLx57Csadw7Ckce9rqJMcZRzCrO/XU0MpHdILTNlinLUvTThfLkpW/dxHBpNl54LNBBBMimOBSynMphY8UVRjBLOM0gDIcjTJcTMvKUGEAsxr2AZThdSo/CGCOX9sIV0YqDGCWEwIggFkl7DNQH+b5mGVhryx+yTztHKd+ZyFHEkFE4dp2kGj88hjly8KANAZEgofI7T++iBdeSOTKaxB+p4QOk2itR5ugFDrsSdsr5GBGrg8+G0AScNp6EYtlsUAvjcPuDvRZ23FQFN1V0IaMlXYU+cErHWp42BGFQjo8RElzLPJEllJA+VDV3r8//UKlRkSadA9ZpJPTQpsooJMPtmKJlw8xH4mOhRcdB37bDk7MhhLZLygbKR1RGgXEptmGP6tHqj6K0/PW9NVy3YRIKxS/IhLLPh3x2kO+KyJurivqVrAdjcWsLPpnPKhcfSlFojQ9BpN9pgB7GYShyDGYOQzD5iB7tFyUXMyD7Bn6tDYjpIPsZSPKCWm2eTNu/613UAGzgLBn6jw7iYsgISPNFg+g0tUaM6hAVYH9mMrYBWJ35GWsGMVQM/4bFRSDryYn1T8V6EK+Gs8DkOKrMc125lRlAK9pq2dm04Ke0awyj9WB1+ABXKWeuRLwmtsojoNjk4fMHTg2GY5NrrlUxnpsMtS+TgZrEE9FDWJuSFzK9qduNQxgDeTcDUNfDi6ANW9M0nkTmnZCUQE3QAFFF50uUhGC8oPaTQg875PAF7FdIfwq3y2ectziKfeAEyl7FdneOrjFfbvF4n2Dlw5e+q1xB7x08NKv3EuXDnUrwvPLqMdaY6pcOJqm9cg4+kzKIV8qaXJZslwPVSQBEyugyYchLo02J+OJk0DiWXCqZJMywdPRiQPDUIsAKg1rBbCtrwTbGlZrabUCxDaslHorBZC+YZ0A4DgsFIkLZWy45y1iTb2vu8HHdlgN2PVFdoo9p+cm/8zKJcnt6V/asnZ6UjBvNF2ELi8TTLtPHeN03Om3LyMZ/Ilvn07h5NpIJkJr8h/u7++HONyTo5xbjUpFQA2y+YaQzSd+koXJy/GwZOR4mNOmmVKTBvWoWXJUvXrUYq5UEW7mwTSXy4wfpRyqUqpNIa2KXeSkVXWRQ8UaKeZQPW6hpIj/eolgBLFk17MlRTyIDzlpska5KPlE1nO0zW0mRAlkjMkbZhcTVuHcnHUZtFR6PP1pUwzYU7NaICmsphXGu1R75lh8z6yl41ptZpp3KQQ7d6fkH7fzH6r7TfyWWsZcPbrOv15srWwHqlmLUjgifdl14k+UPGOIHpTIVpQuL+TPReIIxYtaJLk25WntTcHsgPqZmXxYzPicSbxT4m8TBxW3fKjccqpBEqWOqjTuScr06No6kK+hzxJOkPXjp8bZ6LuQwhYMuLsebjR2Nk/oBVUioHzAL6isqkiIjUiKjVS5dX2c8mkYZqdVZPJLHY3Z0ArzjDLSBot5QL2Y9JgHr17M5NaLSTlSwrAg5tGnShXUp9XWg6q9Q8UaXSEFOMZCt+6OGq6qNFZvYy6KHdyhBEzFnxiKfL0U1jqbpyQxpCnPGTqiyvP6+e1X/al4pkDjZCPc1RQ5y5XG7SqL+bWWxo0DsoKdYO44a8RfCVXzuJvIerEHHo8/s6hqlIXUTCerHRZXHlrix8yISDX1RJAe/55XOpBrMRlsPEH4kCGDC2csZ0+4fMpQcSMLdv7besH6sghaXR9MVA6Xq88HAtSU3o3JIbbUzsBVkkNwsrM+cLvljNF9Dv+cnNmxa24+9D+5i+gASYLyExXryH2yY4INcmm+LdMNBkYBUW+ngRdCiXwn1/7tmI7nfdMOaJjzL4CSrSiZFmXfiXZ14S07V26tecCx1hwL1mtY+RLoqAMVZVDRADJKIaMpmY418kWhHmhsMSrho0kNbt2ClKNQjDKwL5yEPdiTsOcsb4OtlezE0ktVLlJCXWxpwlHYdrmXaPsxay5RSnYY3dMKgsIP13lodlXGCK8XBRkjPEJXmgTNuVzzHO86fHIcPjFJwTO2MzR2+C16w2OPkrNrfzi3lkFDSzo83BCv2FV2eLhZrhoFBT0eBa0tOOYcL4VZjoKurkIFBX2dapffqtaGUDV1HKgbSerGFC6C0NWpm/IRzC8ih8dXKpfuj4/37RXyP2dZP4W7ZUj7Rem87HmZV7yTuUwprCrXVvy8c/yDiyiz7Jj83drOxtvRK0mliKFh0pE/NpELaOfi/wdram5SQUV+vS+LRvIeU7u8+AM2ubVvFFefrH+SrY0tVdvnNFGW5bygIGnvPxEi7d17O+c43g8RptHrhg4bz27n2iEZ+zpIxWsqxNah/bylOeOnM46Ot9wJrOcKadX9apawXnWjsF4/GrwDhniypcH5QvhrGBB6Z7/9FNr7zS8BFrP44v8B&lt;/diagram&gt;&lt;/mxfile&gt;">
    <defs/>
    <g>
        <path d="M 190 200 L 233.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 238.88 200 L 231.88 203.5 L 233.63 200 L 231.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 190 180 L 190 157.5 Q 190 150 182.5 150 L 7.5 150 Q 0 150 0 157.5 L 0 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 0 180 L 0 242.5 Q 0 250 7.5 250 L 182.5 250 Q 190 250 190 242.5 L 190 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 0 180 L 190 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="94.5" y="169.5">
                main.c
            </text>
        </g>
        <rect x="0" y="180" width="140" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 187px; margin-left: 6px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">
                                    <span style="color: rgb(86, 156, 214);">
                                        int
                                    </span>
                                    <span style="color: rgb(220, 220, 170);">
                                        main
                                    </span>
                                    (
                                    <span style="color: rgb(86, 156, 214);">
                                        void
                                    </span>
                                    );
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6" y="199" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    int main(void);
                </text>
            </switch>
        </g>
        <path d="M 560 180 L 560 157.5 Q 560 150 552.5 150 L 247.5 150 Q 240 150 240 157.5 L 240 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 240 180 L 240 242.5 Q 240 250 247.5 250 L 552.5 250 Q 560 250 560 242.5 L 560 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 240 180 L 560 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="399.5" y="169.5">
                LightController.h
            </text>
        </g>
        <rect x="240" y="180" width="240" height="70" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 187px; margin-left: 246px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            init
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            step
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            uint32_t
                                        </span>
                                        <span style="color: #9cdcfe;">
                                            time_ms
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            key_press
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="246" y="199" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 400 340 L 400 256.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 400 251.12 L 403.5 258.12 L 400 256.37 L 396.5 258.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 480 340 L 634.45 253.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 639.03 250.55 L 634.64 257.03 L 634.45 253.12 L 631.21 250.93 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 560 417.5 L 633.63 417.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 638.88 417.5 L 631.88 421 L 633.63 417.5 L 631.88 414 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 560 370 L 560 347.5 Q 560 340 552.5 340 L 247.5 340 Q 240 340 240 347.5 L 240 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 240 370 L 240 642.5 Q 240 650 247.5 650 L 552.5 650 Q 560 650 560 642.5 L 560 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 240 370 L 560 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="399.5" y="359.5">
                LightController.c
            </text>
        </g>
        <rect x="240" y="370" width="300" height="280" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 377px; margin-left: 246px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div style="">
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        init
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        step
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        time_ms
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        key_press
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <br/>
                                                </div>
                                            </div>
                                            <div style="">
                                                <span style="color: rgb(86, 156, 214);">
                                                    static
                                                </span>
                                                <span style="color: rgb(86, 156, 214);">
                                                    int
                                                </span>
                                                <span style="color: rgb(156, 220, 254);">
                                                    count
                                                </span>
                                                <span style="color: rgb(212, 212, 212);">
                                                    =
                                                </span>
                                                <span style="color: rgb(181, 206, 168);">
                                                    0
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <span style="color: #569cd6;">
                                                    static
                                                </span>
                                                <span style="color: #4ec9b0;">
                                                    uint32_t
                                                </span>
                                                <span style="color: #9cdcfe;">
                                                    timer_started_at_ms
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            static
                                        </span>
                                        <span style="color: rgb(86, 156, 214);">
                                            uint32_t
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            timer
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            static
                                        </span>
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            reset_timer
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            static
                                        </span>
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_i
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            uint8_t
                                        </span>
                                        <span style="color: #9cdcfe;">
                                            i
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            static
                                        </span>
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_off
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            static
                                        </span>
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_1
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            static
                                        </span>
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_12
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            static
                                        </span>
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            light_123
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="246" y="389" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 950 180 L 950 157.5 Q 950 150 942.5 150 L 647.5 150 Q 640 150 640 157.5 L 640 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 640 180 L 640 242.5 Q 640 250 647.5 250 L 942.5 250 Q 950 250 950 242.5 L 950 180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 640 180 L 950 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="794.5" y="169.5">
                LightSm.h
            </text>
        </g>
        <rect x="640" y="180" width="220" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 187px; margin-left: 646px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            (...);
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="646" y="199" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);
                </text>
            </switch>
        </g>
        <path d="M 640 495 L 566.37 495" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 561.12 495 L 568.12 491.5 L 566.37 495 L 568.12 498.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 795 340 L 795 256.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 795 251.12 L 798.5 258.12 L 795 256.37 L 791.5 258.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 950 370 L 950 347.5 Q 950 340 942.5 340 L 647.5 340 Q 640 340 640 347.5 L 640 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 640 370 L 640 642.5 Q 640 650 647.5 650 L 942.5 650 Q 950 650 950 642.5 L 950 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 640 370 L 950 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 347px; margin-left: 795px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                LightSm.
                                <font color="#ff3399">
                                    inc
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="795" y="361" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    LightSm.inc
                </text>
            </switch>
        </g>
        <rect x="640" y="370" width="290" height="170" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 377px; margin-left: 646px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(204, 204, 204);">
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            <span style="color: rgb(204, 204, 204);">
                                                (...);
                                            </span>
                                            <br/>
                                        </div>
                                        <div>
                                            <span style="color: rgb(204, 204, 204);">
                                                <br/>
                                            </span>
                                        </div>
                                        <div>
                                            <span style="color: rgb(204, 204, 204);">
                                                <br/>
                                            </span>
                                        </div>
                                        <div>
                                            <br/>
                                        </div>
                                        <div>
                                            <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                                <div style="line-height: 19px;">
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            static
                                                        </span>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            ON1_enter
                                                        </span>
                                                        (
                                                        <span style="color: rgb(78, 201, 176);">
                                                            LightSm
                                                        </span>
                                                        <span style="color: rgb(212, 212, 212);">
                                                            *
                                                        </span>
                                                        <span style="color: rgb(156, 220, 254);">
                                                            sm
                                                        </span>
                                                        )
                                                    </div>
                                                    <div>
                                                        {
                                                    </div>
                                                    <div>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            reset_timer
                                                        </span>
                                                        ();
                                                    </div>
                                                    <div>
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <div style="background-color: rgb(31, 31, 31);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="646" y="389" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);...
                </text>
            </switch>
        </g>
        <path d="M 220 1255 L 263.63 1255" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 268.88 1255 L 261.88 1258.5 L 263.63 1255 L 261.88 1251.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 220 1235 L 220 1212.5 Q 220 1205 212.5 1205 L 37.5 1205 Q 30 1205 30 1212.5 L 30 1235" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 30 1235 L 30 1297.5 Q 30 1305 37.5 1305 L 212.5 1305 Q 220 1305 220 1297.5 L 220 1235" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 30 1235 L 220 1235" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="124.5" y="1224.5">
                main.c
            </text>
        </g>
        <rect x="30" y="1235" width="140" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1242px; margin-left: 36px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">
                                    <span style="color: rgb(86, 156, 214);">
                                        int
                                    </span>
                                    <span style="color: rgb(220, 220, 170);">
                                        main
                                    </span>
                                    (
                                    <span style="color: rgb(86, 156, 214);">
                                        void
                                    </span>
                                    );
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="36" y="1254" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    int main(void);
                </text>
            </switch>
        </g>
        <path d="M 590 1130 L 590 1107.5 Q 590 1100 582.5 1100 L 277.5 1100 Q 270 1100 270 1107.5 L 270 1130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 1130 L 270 1402.5 Q 270 1410 277.5 1410 L 582.5 1410 Q 590 1410 590 1402.5 L 590 1130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 1130 L 590 1130" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="429.5" y="1119.5">
                LightController.h
            </text>
        </g>
        <rect x="270" y="1130" width="300" height="280" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1137px; margin-left: 276px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div>
                                            <div style="line-height: 19px;">
                                                <div>
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            init
                                                        </span>
                                                        (
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        );
                                                    </div>
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            step
                                                        </span>
                                                        (
                                                        <span style="color: rgb(86, 156, 214);">
                                                            uint32_t
                                                        </span>
                                                        <span style="color: rgb(156, 220, 254);">
                                                            time_ms
                                                        </span>
                                                        );
                                                    </div>
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            key_press
                                                        </span>
                                                        (
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        );
                                                    </div>
                                                    <div>
                                                        <br/>
                                                    </div>
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        extern
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        int
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        count
                                                    </span>
                                                    <span style="color: rgb(212, 212, 212);">
                                                        =
                                                    </span>
                                                    <span style="color: rgb(181, 206, 168);">
                                                        0
                                                    </span>
                                                    ;
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214); background-color: initial;">
                                                        extern
                                                    </span>
                                                    <span style="color: rgb(78, 201, 176);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        timer_started_at_ms
                                                    </span>
                                                    ;
                                                </div>
                                                <div>
                                                    <br/>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                uint32_t
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                timer
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                reset_timer
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                light_i
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                uint8_t
                                            </span>
                                            <span style="color: rgb(156, 220, 254);">
                                                i
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                light_off
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                light_1
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                light_12
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                light_123
                                            </span>
                                            (
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            );
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="276" y="1149" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 430 1550 L 430 1416.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 430 1411.12 L 433.5 1418.12 L 430 1416.37 L 426.5 1418.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 510 1550 L 665.21 1414.19" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 669.16 1410.74 L 666.2 1417.98 L 665.21 1414.19 L 661.59 1412.71 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 590 1580 L 590 1557.5 Q 590 1550 582.5 1550 L 277.5 1550 Q 270 1550 270 1557.5 L 270 1580" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 1580 L 270 1852.5 Q 270 1860 277.5 1860 L 582.5 1860 Q 590 1860 590 1852.5 L 590 1580" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 1580 L 590 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="429.5" y="1569.5">
                LightController.c
            </text>
        </g>
        <rect x="270" y="1580" width="250" height="280" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1587px; margin-left: 276px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div style="">
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        init
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        step
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        time_ms
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        key_press
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <br/>
                                                </div>
                                            </div>
                                            <div style="">
                                                <span style="color: rgb(86, 156, 214);">
                                                    int
                                                </span>
                                                <span style="color: rgb(156, 220, 254);">
                                                    count
                                                </span>
                                                <span style="color: rgb(212, 212, 212);">
                                                    =
                                                </span>
                                                <span style="color: rgb(181, 206, 168);">
                                                    0
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <span style="color: #4ec9b0;">
                                                    uint32_t
                                                </span>
                                                <span style="color: #9cdcfe;">
                                                    timer_started_at_ms
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            uint32_t
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            timer
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            reset_timer
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_i
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            uint8_t
                                        </span>
                                        <span style="color: #9cdcfe;">
                                            i
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_off
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_1
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_12
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            light_123
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="276" y="1599" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 980 1130 L 980 1107.5 Q 980 1100 972.5 1100 L 677.5 1100 Q 670 1100 670 1107.5 L 670 1130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 670 1130 L 670 1402.5 Q 670 1410 677.5 1410 L 972.5 1410 Q 980 1410 980 1402.5 L 980 1130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 670 1130 L 980 1130" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="824.5" y="1119.5">
                LightSm.h
            </text>
        </g>
        <rect x="670" y="1130" width="220" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1137px; margin-left: 676px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            (...);
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="676" y="1149" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);
                </text>
            </switch>
        </g>
        <path d="M 825 1550 L 825 1416.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 825 1411.12 L 828.5 1418.12 L 825 1416.37 L 821.5 1418.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 747.5 1550 L 594.76 1414.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 590.84 1410.74 L 598.39 1412.78 L 594.76 1414.23 L 593.74 1418.01 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 980 1580 L 980 1557.5 Q 980 1550 972.5 1550 L 677.5 1550 Q 670 1550 670 1557.5 L 670 1580" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 670 1580 L 670 1852.5 Q 670 1860 677.5 1860 L 972.5 1860 Q 980 1860 980 1852.5 L 980 1580" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 670 1580 L 980 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="824.5" y="1569.5">
                LightSm.inc
            </text>
        </g>
        <rect x="670" y="1580" width="290" height="170" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1587px; margin-left: 676px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div>
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(204, 204, 204);">
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            <span style="color: rgb(204, 204, 204);">
                                                (...);
                                            </span>
                                            <br/>
                                        </div>
                                        <div>
                                            <span style="color: rgb(204, 204, 204);">
                                                <br/>
                                            </span>
                                        </div>
                                        <div>
                                            <span style="color: rgb(204, 204, 204);">
                                                <br/>
                                            </span>
                                        </div>
                                        <div>
                                            <br/>
                                        </div>
                                        <div>
                                            <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                                <div style="line-height: 19px;">
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            static
                                                        </span>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            void
                                                        </span>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            ON1_enter
                                                        </span>
                                                        (
                                                        <span style="color: rgb(78, 201, 176);">
                                                            LightSm
                                                        </span>
                                                        <span style="color: rgb(212, 212, 212);">
                                                            *
                                                        </span>
                                                        <span style="color: rgb(156, 220, 254);">
                                                            sm
                                                        </span>
                                                        )
                                                    </div>
                                                    <div>
                                                        {
                                                    </div>
                                                    <div>
                                                        <span style="color: rgb(220, 220, 170);">
                                                            reset_timer
                                                        </span>
                                                        ();
                                                    </div>
                                                    <div>
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <div style="background-color: rgb(31, 31, 31);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="676" y="1599" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);...
                </text>
            </switch>
        </g>
        <rect x="20" y="1990" width="660" height="210" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2095px; margin-left: 22px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                Private header.
                                <br/>
                                Cons:
                                <br/>
                                - another private header is needed.
                                <br/>
                                - fsm needs to be told to include header (easy but another step).
                                <br/>
                                - symbols are now global and should be prefixed with module name to avoid collision.
                                <br/>
                                - `timer()` becomes `LightController_timer()`
                                <br/>
                                -  The diagram becomes text heavy
                                <br/>
                                - StateSmith expansions are used to overcome, but this adds some learning/complexity.
                                <br/>
                                - simple compilers may not inline small/simple functions like `timer()`
                                <br/>
                                - helper functions like `timer()` require prototypes in header.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="22" y="2100" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">
                    Private header....
                </text>
            </switch>
        </g>
        <path d="M 220 2360 L 263.63 2360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 268.88 2360 L 261.88 2363.5 L 263.63 2360 L 261.88 2356.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 220 2340 L 220 2317.5 Q 220 2310 212.5 2310 L 37.5 2310 Q 30 2310 30 2317.5 L 30 2340" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 30 2340 L 30 2402.5 Q 30 2410 37.5 2410 L 212.5 2410 Q 220 2410 220 2402.5 L 220 2340" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 30 2340 L 220 2340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="124.5" y="2329.5">
                main.c
            </text>
        </g>
        <rect x="30" y="2340" width="140" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2347px; margin-left: 36px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">
                                    <span style="color: rgb(86, 156, 214);">
                                        int
                                    </span>
                                    <span style="color: rgb(220, 220, 170);">
                                        main
                                    </span>
                                    (
                                    <span style="color: rgb(86, 156, 214);">
                                        void
                                    </span>
                                    );
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="36" y="2359" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    int main(void);
                </text>
            </switch>
        </g>
        <path d="M 590 2270 L 590 2247.5 Q 590 2240 582.5 2240 L 277.5 2240 Q 270 2240 270 2247.5 L 270 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 2270 L 270 2472.5 Q 270 2480 277.5 2480 L 582.5 2480 Q 590 2480 590 2472.5 L 590 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 2270 L 590 2270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="429.5" y="2259.5">
                LightController.h
            </text>
        </g>
        <rect x="270" y="2270" width="240" height="70" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2277px; margin-left: 276px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        init
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        step
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        time_ms
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        key_press
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="276" y="2289" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 430 2640 L 430 2486.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 430 2481.12 L 433.5 2488.12 L 430 2486.37 L 426.5 2488.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 510 2640 L 993.95 2481.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 998.94 2480.35 L 993.37 2485.85 L 993.95 2481.98 L 991.2 2479.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 430 2640 L 625.03 2483.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 629.13 2480.7 L 625.85 2487.8 L 625.03 2483.98 L 621.47 2482.34 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 590 2670 L 590 2647.5 Q 590 2640 582.5 2640 L 277.5 2640 Q 270 2640 270 2647.5 L 270 2670" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 2670 L 270 2942.5 Q 270 2950 277.5 2950 L 582.5 2950 Q 590 2950 590 2942.5 L 590 2670" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 270 2670 L 590 2670" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="429.5" y="2659.5">
                LightController.c
            </text>
        </g>
        <rect x="270" y="2670" width="250" height="280" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2677px; margin-left: 276px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div style="">
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        init
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        step
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        time_ms
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        key_press
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <br/>
                                                </div>
                                            </div>
                                            <div style="">
                                                <span style="color: rgb(86, 156, 214);">
                                                    int
                                                </span>
                                                <span style="color: rgb(156, 220, 254);">
                                                    count
                                                </span>
                                                <span style="color: rgb(212, 212, 212);">
                                                    =
                                                </span>
                                                <span style="color: rgb(181, 206, 168);">
                                                    0
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <span style="color: #4ec9b0;">
                                                    uint32_t
                                                </span>
                                                <span style="color: #9cdcfe;">
                                                    timer_started_at_ms
                                                </span>
                                                ;
                                            </div>
                                            <div style="">
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            uint32_t
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            timer
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            reset_timer
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_i
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            uint8_t
                                        </span>
                                        <span style="color: #9cdcfe;">
                                            i
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_off
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_1
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        <span style="color: #dcdcaa;">
                                            light_12
                                        </span>
                                        (
                                        <span style="color: #569cd6;">
                                            void
                                        </span>
                                        );
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            light_123
                                        </span>
                                        (
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        );
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="276" y="2689" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 1310 2270 L 1310 2247.5 Q 1310 2240 1302.5 2240 L 1007.5 2240 Q 1000 2240 1000 2247.5 L 1000 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1000 2270 L 1000 2472.5 Q 1000 2480 1007.5 2480 L 1302.5 2480 Q 1310 2480 1310 2472.5 L 1310 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1000 2270 L 1310 2270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="1154.5" y="2259.5">
                LightSm.h
            </text>
        </g>
        <rect x="1000" y="2270" width="220" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2277px; margin-left: 1006px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            (...);
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1006" y="2289" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);
                </text>
            </switch>
        </g>
        <path d="M 1155 2640 L 1155 2486.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1155 2481.12 L 1158.5 2488.12 L 1155 2486.37 L 1151.5 2488.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1077.5 2640 L 953.97 2484.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 950.7 2480.87 L 957.8 2484.17 L 953.97 2484.98 L 952.32 2488.53 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1310 2670 L 1310 2647.5 Q 1310 2640 1302.5 2640 L 1007.5 2640 Q 1000 2640 1000 2647.5 L 1000 2670" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1000 2670 L 1000 2942.5 Q 1000 2950 1007.5 2950 L 1302.5 2950 Q 1310 2950 1310 2942.5 L 1310 2670" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1000 2670 L 1310 2670" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="1154.5" y="2659.5">
                LightSm.c
            </text>
        </g>
        <rect x="1000" y="2670" width="290" height="170" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2677px; margin-left: 1006px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(204, 204, 204);">
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            dispatch_event
                                        </span>
                                        <span style="color: rgb(204, 204, 204);">
                                            (...);
                                        </span>
                                        <br/>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(204, 204, 204);">
                                            <br/>
                                        </span>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(204, 204, 204);">
                                            <br/>
                                        </span>
                                    </div>
                                    <div style="">
                                        <br/>
                                    </div>
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <div style="">
                                                <div style="line-height: 19px;">
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            static
                                                        </span>
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        <span style="color: #dcdcaa;">
                                                            ON1_enter
                                                        </span>
                                                        (
                                                        <span style="color: #4ec9b0;">
                                                            LightSm
                                                        </span>
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        <span style="color: #9cdcfe;">
                                                            sm
                                                        </span>
                                                        )
                                                    </div>
                                                    <div style="">
                                                        {
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #dcdcaa;">
                                                            reset_timer
                                                        </span>
                                                        ();
                                                    </div>
                                                    <div style="">
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="background-color: rgb(31, 31, 31);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1006" y="2689" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);...
                </text>
            </switch>
        </g>
        <path d="M 950 2270 L 950 2247.5 Q 950 2240 942.5 2240 L 637.5 2240 Q 630 2240 630 2247.5 L 630 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 630 2270 L 630 2472.5 Q 630 2480 637.5 2480 L 942.5 2480 Q 950 2480 950 2472.5 L 950 2270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 630 2270 L 950 2270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="789.5" y="2259.5">
                LightController_PRIVATE.h
            </text>
        </g>
        <rect x="630" y="2270" width="300" height="200" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2277px; margin-left: 636px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div>
                                                <div style="line-height: 19px;">
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            extern
                                                        </span>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            int
                                                        </span>
                                                        <span style="color: rgb(156, 220, 254);">
                                                            count
                                                        </span>
                                                        <span style="color: rgb(212, 212, 212);">
                                                            =
                                                        </span>
                                                        <span style="color: rgb(181, 206, 168);">
                                                            0
                                                        </span>
                                                        ;
                                                    </div>
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214); background-color: initial;">
                                                            extern
                                                        </span>
                                                        <span style="color: rgb(78, 201, 176);">
                                                            uint32_t
                                                        </span>
                                                        <span style="color: rgb(156, 220, 254);">
                                                            timer_started_at_ms
                                                        </span>
                                                        ;
                                                    </div>
                                                    <div>
                                                        <br/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    uint32_t
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    timer
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    reset_timer
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    light_i
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    uint8_t
                                                </span>
                                                <span style="color: rgb(156, 220, 254);">
                                                    i
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    light_off
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    light_1
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    light_12
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                            <div>
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                <span style="color: rgb(220, 220, 170);">
                                                    light_123
                                                </span>
                                                (
                                                <span style="color: rgb(86, 156, 214);">
                                                    void
                                                </span>
                                                );
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="636" y="2289" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    extern int count = 0;...
                </text>
            </switch>
        </g>
        <path d="M 1660 2400 L 1660 2377.5 Q 1660 2370 1652.5 2370 L 1367.5 2370 Q 1360 2370 1360 2377.5 L 1360 2400" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2400 L 1360 2432.5 Q 1360 2440 1367.5 2440 L 1652.5 2440 Q 1660 2440 1660 2432.5 L 1660 2400" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2400 L 1660 2400" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2377px; margin-left: 1510px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1510" y="2391" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1360" y="2400" width="300" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2407px; margin-left: 1366px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    LightController_reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <span style="color: rgb(220, 220, 170);">
                                    LightController_
                                </span>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1366" y="2419" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / LightController_reset_timer();...
                </text>
            </switch>
        </g>
        <path d="M 1560 2270 L 1560 2247.5 Q 1560 2240 1552.5 2240 L 1367.5 2240 Q 1360 2240 1360 2247.5 L 1360 2270" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2270 L 1360 2302.5 Q 1360 2310 1367.5 2310 L 1552.5 2310 Q 1560 2310 1560 2302.5 L 1560 2270" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2270 L 1560 2270" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2247px; margin-left: 1460px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1460" y="2261" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1360" y="2270" width="180" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2277px; margin-left: 1366px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1366" y="2289" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / reset_timer();...
                </text>
            </switch>
        </g>
        <rect x="1450" y="2330" width="40" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2345px; margin-left: 1470px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                vs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1470" y="2350" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">
                    vs
                </text>
            </switch>
        </g>
        <rect x="30" y="830" width="660" height="210" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 935px; margin-left: 32px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                Everything public.
                                <br/>
                                Cons:
                                <br/>
                                - "private" functions for FSM are leaked into public header when main.c can see them.
                                <br/>
                                - fsm needs to be told to include header (easy but another step).
                                <br/>
                                - symbols are now global and should be prefixed with module name to avoid collision.
                                <br/>
                                - `timer()` becomes `LightController_timer()`
                                <br/>
                                -  The diagram becomes text heavy
                                <br/>
                                - StateSmith expansions are used to overcome, but this adds some learning/complexity.
                                <br/>
                                - simple compilers may not inline small/simple functions like `timer()`
                                <br/>
                                - helper functions like `timer()` require prototypes in header.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="32" y="940" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">
                    Everything public....
                </text>
            </switch>
        </g>
        <path d="M 1390 1265 L 1390 1242.5 Q 1390 1235 1382.5 1235 L 1097.5 1235 Q 1090 1235 1090 1242.5 L 1090 1265" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1090 1265 L 1090 1297.5 Q 1090 1305 1097.5 1305 L 1382.5 1305 Q 1390 1305 1390 1297.5 L 1390 1265" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1090 1265 L 1390 1265" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1242px; margin-left: 1240px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1240" y="1256" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1090" y="1265" width="300" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1272px; margin-left: 1096px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    LightController_reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <span style="color: rgb(220, 220, 170);">
                                    LightController_
                                </span>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1096" y="1284" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / LightController_reset_timer();...
                </text>
            </switch>
        </g>
        <path d="M 1290 1135 L 1290 1112.5 Q 1290 1105 1282.5 1105 L 1097.5 1105 Q 1090 1105 1090 1112.5 L 1090 1135" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1090 1135 L 1090 1167.5 Q 1090 1175 1097.5 1175 L 1282.5 1175 Q 1290 1175 1290 1167.5 L 1290 1135" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1090 1135 L 1290 1135" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1112px; margin-left: 1190px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1190" y="1126" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1090" y="1135" width="180" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1142px; margin-left: 1096px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1096" y="1154" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / reset_timer();...
                </text>
            </switch>
        </g>
        <rect x="1180" y="1195" width="40" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1210px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                vs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="1215" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">
                    vs
                </text>
            </switch>
        </g>
        <rect x="90" y="3110" width="550" height="190" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3205px; margin-left: 92px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                Private interface.
                                <br/>
                                Cons:
                                <br/>
                                - another header is needed.
                                <br/>
                                - fsm needs to be told to include header (easy but another step).
                                <br/>
                                - extra work wiring it all up (becareful to not miss something or null access)
                                <br/>
                                - a bit slower runtime (using function pointers)
                                <br/>
                                - RAM cost due to function pointers
                                <br/>
                                - could be moved into another const struct to save RAM on some arch
                                <br/>
                                - Slight RAM cost if padding between fields
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="92" y="3210" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">
                    Private interface....
                </text>
            </switch>
        </g>
        <path d="M 290 3440 L 333.63 3440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 338.88 3440 L 331.88 3443.5 L 333.63 3440 L 331.88 3436.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 290 3420 L 290 3397.5 Q 290 3390 282.5 3390 L 107.5 3390 Q 100 3390 100 3397.5 L 100 3420" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 100 3420 L 100 3482.5 Q 100 3490 107.5 3490 L 282.5 3490 Q 290 3490 290 3482.5 L 290 3420" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 100 3420 L 290 3420" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="194.5" y="3409.5">
                main.c
            </text>
        </g>
        <rect x="100" y="3420" width="140" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3427px; margin-left: 106px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">
                                    <span style="color: rgb(86, 156, 214);">
                                        int
                                    </span>
                                    <span style="color: rgb(220, 220, 170);">
                                        main
                                    </span>
                                    (
                                    <span style="color: rgb(86, 156, 214);">
                                        void
                                    </span>
                                    );
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="106" y="3439" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    int main(void);
                </text>
            </switch>
        </g>
        <path d="M 660 3350 L 660 3327.5 Q 660 3320 652.5 3320 L 347.5 3320 Q 340 3320 340 3327.5 L 340 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 340 3350 L 340 3552.5 Q 340 3560 347.5 3560 L 652.5 3560 Q 660 3560 660 3552.5 L 660 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 340 3350 L 660 3350" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="499.5" y="3339.5">
                LightController.h
            </text>
        </g>
        <rect x="340" y="3350" width="240" height="70" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3357px; margin-left: 346px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        init
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        step
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint32_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        time_ms
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        key_press
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="346" y="3369" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 545 3720 L 501.72 3566.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 500.3 3561.08 L 505.57 3566.87 L 501.72 3566.13 L 498.83 3568.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 647.5 3720 L 1063.91 3591.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1068.93 3590.33 L 1063.27 3595.73 L 1063.91 3591.87 L 1061.21 3589.04 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 545 3720 L 695.12 3594.09" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 699.14 3590.72 L 696.03 3597.9 L 695.12 3594.09 L 691.53 3592.54 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 750 3750 L 750 3727.5 Q 750 3720 742.5 3720 L 347.5 3720 Q 340 3720 340 3727.5 L 340 3750" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 340 3750 L 340 4102.5 Q 340 4110 347.5 4110 L 742.5 4110 Q 750 4110 750 4102.5 L 750 3750" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 340 3750 L 750 3750" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="544.5" y="3739.5">
                LightController.c
            </text>
        </g>
        <rect x="340" y="3750" width="330" height="360" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3757px; margin-left: 346px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div style="">
                                                <div>
                                                    <div style="line-height: 19px;">
                                                        <div>
                                                            <div>
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    void
                                                                </span>
                                                                <span style="color: rgb(220, 220, 170);">
                                                                    init
                                                                </span>
                                                                (
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    void
                                                                </span>
                                                                );
                                                            </div>
                                                            <div>
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    void
                                                                </span>
                                                                <span style="color: rgb(220, 220, 170);">
                                                                    step
                                                                </span>
                                                                (
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    uint32_t
                                                                </span>
                                                                <span style="color: rgb(156, 220, 254);">
                                                                    time_ms
                                                                </span>
                                                                );
                                                            </div>
                                                            <div>
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    void
                                                                </span>
                                                                <span style="color: rgb(220, 220, 170);">
                                                                    key_press
                                                                </span>
                                                                (
                                                                <span style="color: rgb(86, 156, 214);">
                                                                    void
                                                                </span>
                                                                );
                                                            </div>
                                                            <div>
                                                                <br/>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <span style="background-color: initial; color: rgb(86, 156, 214);">
                                                                static
                                                            </span>
                                                            <span style="background-color: initial;">
                                                            </span>
                                                            <span style="background-color: initial; color: rgb(86, 156, 214);">
                                                                uint32_t
                                                            </span>
                                                            <span style="background-color: initial;">
                                                            </span>
                                                            <span style="background-color: initial; color: rgb(220, 220, 170);">
                                                                timer
                                                            </span>
                                                            <span style="background-color: initial;">
                                                                (
                                                            </span>
                                                            <span style="background-color: initial; color: rgb(86, 156, 214);">
                                                                void
                                                            </span>
                                                            <span style="background-color: initial;">
                                                                );
                                                            </span>
                                                            <br/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        reset_timer
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        light_i
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        uint8_t
                                                    </span>
                                                    <span style="color: rgb(156, 220, 254);">
                                                        i
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        light_off
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        light_1
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        light_12
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        static
                                                    </span>
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    <span style="color: rgb(220, 220, 170);">
                                                        light_123
                                                    </span>
                                                    (
                                                    <span style="color: rgb(86, 156, 214);">
                                                        void
                                                    </span>
                                                    );
                                                </div>
                                                <div>
                                                    <br/>
                                                </div>
                                                <div>
                                                    <div>
                                                        <span style="color: rgb(86, 156, 214);">
                                                            static
                                                        </span>
                                                        <span style="background-color: initial; color: rgb(86, 156, 214);">
                                                            struct
                                                        </span>
                                                        <span style="background-color: initial;">
                                                        </span>
                                                        <span style="background-color: initial;">
                                                            LightSmInterface iface = {
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span style="background-color: initial;">
                                                            .timer = timer,
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span style="background-color: initial;">
                                                            .reset_timer = reset_timer,
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span style="background-color: initial;">
                                                            //...
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span style="background-color: initial;">
                                                            }
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <br/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="346" y="3769" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void init(void);...
                </text>
            </switch>
        </g>
        <path d="M 1070 3455 L 1026.37 3455" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1021.12 3455 L 1028.12 3451.5 L 1026.37 3455 L 1028.12 3458.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1450 3350 L 1450 3327.5 Q 1450 3320 1442.5 3320 L 1077.5 3320 Q 1070 3320 1070 3327.5 L 1070 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1070 3350 L 1070 3582.5 Q 1070 3590 1077.5 3590 L 1442.5 3590 Q 1450 3590 1450 3582.5 L 1450 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1070 3350 L 1450 3350" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="1259.5" y="3339.5">
                LightSm.h
            </text>
        </g>
        <rect x="1070" y="3350" width="300" height="200" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3357px; margin-left: 1076px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <div style="line-height: 19px;">
                                                <div style="">
                                                    <span style="color: rgb(86, 156, 214);">
                                                        struct
                                                    </span>
                                                    LightSm_Vars {
                                                </div>
                                                <div style="">
                                                    <span style="color: #569cd6;">
                                                        struct
                                                    </span>
                                                    LightSmInterface
                                                    <span style="color: #d4d4d4;">
                                                        *
                                                    </span>
                                                    iface;
                                                </div>
                                                <div style="">
                                                    };
                                                </div>
                                                <br/>
                                                <div style="">
                                                    <span style="color: #569cd6;">
                                                        struct
                                                    </span>
                                                    LightSm {
                                                </div>
                                                <div style="">
                                                    <span style="background-color: initial;">
                                                    </span>
                                                    <span style="background-color: initial; color: rgb(86, 156, 214);">
                                                        struct
                                                    </span>
                                                    <span style="background-color: initial;">
                                                        LightSm_Vars vars;
                                                    </span>
                                                    <br/>
                                                </div>
                                                <div style="">
                                                    <div>
                                                        <span style="color: rgb(106, 153, 85);">
                                                            // ... stuff
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span style="background-color: initial;">
                                                            };
                                                        </span>
                                                        <br/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <span style="color: rgb(86, 156, 214);">
                                                <br/>
                                            </span>
                                        </div>
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <span style="color: rgb(86, 156, 214);">
                                                void
                                            </span>
                                            <span style="color: rgb(220, 220, 170);">
                                                dispatch_event
                                            </span>
                                            (...);
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1076" y="3369" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    struct LightSm_Vars {...
                </text>
            </switch>
        </g>
        <path d="M 1225 3720 L 1258.34 3596.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1259.71 3591.08 L 1261.27 3598.75 L 1258.34 3596.15 L 1254.51 3596.93 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1380 3750 L 1380 3727.5 Q 1380 3720 1372.5 3720 L 1077.5 3720 Q 1070 3720 1070 3727.5 L 1070 3750" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1070 3750 L 1070 4022.5 Q 1070 4030 1077.5 4030 L 1372.5 4030 Q 1380 4030 1380 4022.5 L 1380 3750" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1070 3750 L 1380 3750" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="1224.5" y="3739.5">
                LightSm.c
            </text>
        </g>
        <rect x="1070" y="3750" width="290" height="170" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3757px; margin-left: 1076px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <span style="color: rgb(86, 156, 214);">
                                            void
                                        </span>
                                        <span style="color: rgb(204, 204, 204);">
                                        </span>
                                        <span style="color: rgb(220, 220, 170);">
                                            dispatch_event
                                        </span>
                                        <span style="color: rgb(204, 204, 204);">
                                            (...);
                                        </span>
                                        <br/>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(204, 204, 204);">
                                            <br/>
                                        </span>
                                    </div>
                                    <div style="">
                                        <span style="color: rgb(204, 204, 204);">
                                            <br/>
                                        </span>
                                    </div>
                                    <div style="">
                                        <br/>
                                    </div>
                                    <div style="">
                                        <div style="color: rgb(204, 204, 204); line-height: 19px;">
                                            <div style="">
                                                <div style="line-height: 19px;">
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            static
                                                        </span>
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        <span style="color: #dcdcaa;">
                                                            ON1_enter
                                                        </span>
                                                        (
                                                        <span style="color: #4ec9b0;">
                                                            LightSm
                                                        </span>
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        <span style="color: #9cdcfe;">
                                                            sm
                                                        </span>
                                                        )
                                                    </div>
                                                    <div style="">
                                                        {
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #dcdcaa;">
                                                            reset_timer
                                                        </span>
                                                        ();
                                                    </div>
                                                    <div style="">
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="background-color: rgb(31, 31, 31);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1076" y="3769" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    void dispatch_event(...);...
                </text>
            </switch>
        </g>
        <path d="M 1020 3350 L 1020 3327.5 Q 1020 3320 1012.5 3320 L 707.5 3320 Q 700 3320 700 3327.5 L 700 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 700 3350 L 700 3582.5 Q 700 3590 707.5 3590 L 1012.5 3590 Q 1020 3590 1020 3582.5 L 1020 3350" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 700 3350 L 1020 3350" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Lucida Console" font-weight="bold" text-anchor="middle" font-size="14px">
            <text x="859.5" y="3339.5">
                LightSmInterface.h
            </text>
        </g>
        <rect x="700" y="3350" width="280" height="240" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3357px; margin-left: 706px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <div style="color: rgb(204, 204, 204); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;">
                                    <div style="">
                                        <div style="line-height: 19px;">
                                            <div style="line-height: 19px;">
                                                <div style="line-height: 19px;">
                                                    <div style="">
                                                        <span style="color: rgb(86, 156, 214);">
                                                            struct
                                                        </span>
                                                        LightSmInterface {
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            int
                                                        </span>
                                                        count;
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            uint32_t
                                                        </span>
                                                        timer_started_at_ms;
                                                    </div>
                                                    <br/>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            uint32_t
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        timer)();
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        reset_timer)();
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        light_i)(
                                                        <span style="color: #569cd6;">
                                                            uint8_t
                                                        </span>
                                                        i);
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        light_off)();
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        light_1)();
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        light_12)();
                                                    </div>
                                                    <div style="">
                                                        <span style="color: #569cd6;">
                                                            void
                                                        </span>
                                                        (
                                                        <span style="color: #d4d4d4;">
                                                            *
                                                        </span>
                                                        light_123)();
                                                    </div>
                                                    <div style="">
                                                        };
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="706" y="3369" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    struct LightSmInterface {...
                </text>
            </switch>
        </g>
        <path d="M 1890 3500 L 1890 3477.5 Q 1890 3470 1882.5 3470 L 1517.5 3470 Q 1510 3470 1510 3477.5 L 1510 3500" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1510 3500 L 1510 3532.5 Q 1510 3540 1517.5 3540 L 1882.5 3540 Q 1890 3540 1890 3532.5 L 1890 3500" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1510 3500 L 1890 3500" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3477px; margin-left: 1700px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="3491" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1510" y="3500" width="380" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3507px; margin-left: 1516px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    sm-&gt;vars.iface-&gt;reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <span style="color: rgb(220, 220, 170);">
                                    iface-&gt;
                                </span>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                                <font color="#00cc00">
                                    /* using expansion */
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1516" y="3519" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / sm-&gt;vars.iface-&gt;reset_timer();...
                </text>
            </switch>
        </g>
        <path d="M 1710 3370 L 1710 3347.5 Q 1710 3340 1702.5 3340 L 1517.5 3340 Q 1510 3340 1510 3347.5 L 1510 3370" fill="#333333" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1510 3370 L 1510 3402.5 Q 1510 3410 1517.5 3410 L 1702.5 3410 Q 1710 3410 1710 3402.5 L 1710 3370" fill="#18141d" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1510 3370 L 1710 3370" fill="none" stroke="#f0f0f0" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3347px; margin-left: 1610px;">
                        <div data-drawio-colors="color: #FAFAFA; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 14px; font-family: &quot;Lucida Console&quot;; color: rgb(250, 250, 250); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;">
                                OFF
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1610" y="3361" fill="#FAFAFA" font-family="Lucida Console" font-size="14px" text-anchor="middle" font-weight="bold">
                    OFF
                </text>
            </switch>
        </g>
        <rect x="1510" y="3370" width="180" height="40" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3377px; margin-left: 1516px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    reset_timer();
                                    <br/>
                                </font>
                                <font color="#00aaff">
                                    enter
                                </font>
                                <font color="#ffd700">
                                    /
                                </font>
                                <font color="#dcdcaa">
                                    light_off();
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1516" y="3389" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px">
                    enter / reset_timer();...
                </text>
            </switch>
        </g>
        <rect x="1600" y="3430" width="40" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3445px; margin-left: 1620px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                vs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1620" y="3450" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" text-anchor="middle">
                    vs
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="480" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 45px; margin-left: 2px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                Include state machine source file at end of user file.
                                <br/>
                                Cons:
                                <br/>
                                - Less conventional.
                                <br/>
                                - Uses .inc file (somewhat standard for "fragment source files")
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="50" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px">
                    Include state machine source file at end of user file....
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>